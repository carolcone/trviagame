<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trivia Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 24px;
            padding: 48px;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            font-size: 32px;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 8px;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 40px;
            font-size: 15px;
        }

        .setup-screen, .quiz-screen, .results-screen {
            display: none;
        }

        .setup-screen.active, .quiz-screen.active, .results-screen.active {
            display: block;
        }

        .form-group {
            margin-bottom: 24px;
        }

        label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        select {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e5e5e5;
            border-radius: 12px;
            font-size: 16px;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }

        select:hover {
            border-color: #667eea;
        }

        select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        button {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 8px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .question-card {
            background: #f8f9fa;
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 24px;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .back-btn {
            background: #e5e5e5;
            color: #666;
            padding: 8px 16px;
            font-size: 14px;
            width: auto;
            margin: 0;
            border-radius: 8px;
        }

        .back-btn:hover {
            background: #d4d4d4;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .question-number {
            font-size: 14px;
            font-weight: 600;
            color: #667eea;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .question-text {
            font-size: 20px;
            font-weight: 600;
            color: #1a1a1a;
            line-height: 1.5;
            margin-bottom: 24px;
        }

        .answers {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .answer-btn {
            background: white;
            border: 2px solid #e5e5e5;
            color: #333;
            text-align: left;
            padding: 16px 20px;
            border-radius: 12px;
            transition: all 0.2s;
            font-weight: 500;
        }

        .answer-btn:hover {
            border-color: #667eea;
            background: #f8f9ff;
            transform: translateY(-1px);
        }

        .answer-btn.correct {
            background: #10b981;
            border-color: #10b981;
            color: white;
        }

        .answer-btn.incorrect {
            background: #ef4444;
            border-color: #ef4444;
            color: white;
        }

        .answer-btn:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .score-display {
            text-align: center;
            margin-bottom: 32px;
        }

        .score-number {
            font-size: 64px;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 8px;
        }

        .score-text {
            font-size: 18px;
            color: #666;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .error {
            background: #fee;
            border: 2px solid #fcc;
            border-radius: 12px;
            padding: 16px;
            color: #c33;
            margin-bottom: 20px;
        }

        .next-btn {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        /* Game Show Loading Animation */
        .game-show-loader {
            text-align: center;
            padding: 60px 20px;
        }

        .spinner-wheel {
            width: 200px;
            height: 200px;
            margin: 0 auto 32px;
            position: relative;
            animation: spinWheel 2s cubic-bezier(0.17, 0.67, 0.3, 1.33);
        }

        @keyframes spinWheel {
            0% {
                transform: rotate(0deg) scale(0.5);
                opacity: 0;
            }
            50% {
                transform: rotate(720deg) scale(1.1);
            }
            100% {
                transform: rotate(1080deg) scale(1);
                opacity: 1;
            }
        }

        .wheel-segment {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .wheel-segment:nth-child(1) {
            background: conic-gradient(from 0deg, #667eea 0deg 90deg, transparent 90deg);
            border-radius: 50%;
        }

        .wheel-segment:nth-child(2) {
            background: conic-gradient(from 90deg, #764ba2 0deg 90deg, transparent 90deg);
            border-radius: 50%;
        }

        .wheel-segment:nth-child(3) {
            background: conic-gradient(from 180deg, #f093fb 0deg 90deg, transparent 90deg);
            border-radius: 50%;
        }

        .wheel-segment:nth-child(4) {
            background: conic-gradient(from 270deg, #4facfe 0deg 90deg, transparent 90deg);
            border-radius: 50%;
        }

        .wheel-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .loader-text {
            font-size: 20px;
            font-weight: 600;
            color: #667eea;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Reveal Answer Button */
        .reveal-container {
            margin-top: 24px;
            text-align: center;
        }

        .reveal-btn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 20px 48px;
            font-size: 18px;
            font-weight: 700;
            border-radius: 16px;
            animation: buttonGlow 2s ease-in-out infinite;
            box-shadow: 0 8px 24px rgba(240, 147, 251, 0.4);
        }

        .reveal-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 12px 32px rgba(240, 147, 251, 0.6);
        }

        @keyframes buttonGlow {
            0%, 100% {
                box-shadow: 0 8px 24px rgba(240, 147, 251, 0.4);
            }
            50% {
                box-shadow: 0 8px 32px rgba(240, 147, 251, 0.7);
            }
        }

        .answers.hidden {
            display: none;
        }

        .answers.revealed {
            animation: revealAnswers 0.5s ease-out;
        }

        @keyframes revealAnswers {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Setup Screen -->
        <div class="setup-screen active">
            <h1>üéØ Trivia Game</h1>
            <p class="subtitle">Choose your category and difficulty</p>
            
            <div class="form-group">
                <label>Category</label>
                <select id="category">
                    <option value="superbowl">üèà Super Bowl (Today Only!)</option>
                    <option value="9">General Knowledge</option>
                    <option value="10">Books</option>
                    <option value="11">Film</option>
                    <option value="12">Music</option>
                    <option value="14">Television</option>
                    <option value="15">Video Games</option>
                    <option value="17">Science & Nature</option>
                    <option value="18">Computers</option>
                    <option value="19">Mathematics</option>
                    <option value="20">Mythology</option>
                    <option value="21">Sports</option>
                    <option value="22">Geography</option>
                    <option value="23">History</option>
                    <option value="27">Animals</option>
                </select>
            </div>

            <div class="form-group">
                <label>Difficulty</label>
                <select id="difficulty">
                    <option value="easy">Easy</option>
                    <option value="medium">Medium</option>
                    <option value="hard">Hard</option>
                </select>
            </div>

            <button onclick="startQuiz()">Go</button>
        </div>

        <!-- Quiz Screen -->
        <div class="quiz-screen">
            <div id="quiz-content"></div>
        </div>

        <!-- Results Screen -->
        <div class="results-screen">
            <h1>üéâ Quiz Complete!</h1>
            <div class="score-display">
                <div class="score-number" id="final-score">0/10</div>
                <div class="score-text">Correct Answers</div>
            </div>
            <button onclick="resetQuiz()">Play Again</button>
        </div>
    </div>

    <script>
        let questions = [];
        let currentQuestion = 0;
        let score = 0;

        async function startQuiz() {
            const category = document.getElementById('category').value;
            const difficulty = document.getElementById('difficulty').value;
            
            const setupScreen = document.querySelector('.setup-screen');
            const quizScreen = document.querySelector('.quiz-screen');
            const quizContent = document.getElementById('quiz-content');
            
            // Show game-show style loader
            quizContent.innerHTML = `
                <div class="game-show-loader">
                    <div class="spinner-wheel">
                        <div class="wheel-segment"></div>
                        <div class="wheel-segment"></div>
                        <div class="wheel-segment"></div>
                        <div class="wheel-segment"></div>
                        <div class="wheel-center">üéØ</div>
                    </div>
                    <div class="loader-text">Preparing your trivia...</div>
                </div>
            `;
            setupScreen.classList.remove('active');
            quizScreen.classList.add('active');

            try {
                // Super Bowl special category
                if (category === 'superbowl') {
                    await new Promise(resolve => setTimeout(resolve, 2200)); // Wait for animation
                    questions = getSuperBowlQuestions(difficulty);
                    currentQuestion = 0;
                    score = 0;
                    displayQuestion();
                    return;
                }

                const response = await fetch(`https://opentdb.com/api.php?amount=10&category=${category}&difficulty=${difficulty}&type=multiple`);
                const data = await response.json();
                
                if (data.response_code !== 0) {
                    throw new Error('Failed to load questions');
                }
                
                await new Promise(resolve => setTimeout(resolve, 2200)); // Wait for animation
                
                questions = data.results;
                currentQuestion = 0;
                score = 0;
                displayQuestion();
            } catch (error) {
                quizContent.innerHTML = `
                    <div class="error">Failed to load questions. Please try again.</div>
                    <button onclick="resetQuiz()">Back to Setup</button>
                `;
            }
        }

        function getSuperBowlQuestions(difficulty) {
            const easyQuestions = [
                {
                    question: "Which two teams are playing in today's Super Bowl?",
                    correct_answer: "Patriots vs Seahawks",
                    incorrect_answers: ["Cowboys vs Steelers", "Packers vs Chiefs", "49ers vs Ravens"]
                },
                {
                    question: "What is the name of the championship game in the NFL?",
                    correct_answer: "Super Bowl",
                    incorrect_answers: ["NFL Finals", "Championship Bowl", "Pro Bowl"]
                },
                {
                    question: "How many points is a touchdown worth?",
                    correct_answer: "6 points",
                    incorrect_answers: ["7 points", "5 points", "3 points"]
                },
                {
                    question: "What city is known as the birthplace of the Patriots?",
                    correct_answer: "Boston",
                    incorrect_answers: ["New York", "Philadelphia", "Chicago"]
                },
                {
                    question: "What is the Seattle Seahawks' primary team color?",
                    correct_answer: "Navy blue and green",
                    incorrect_answers: ["Red and gold", "Purple and gold", "Orange and blue"]
                },
                {
                    question: "How many quarters are in a football game?",
                    correct_answer: "4",
                    incorrect_answers: ["3", "2", "5"]
                },
                {
                    question: "What is the halftime show at the Super Bowl famous for?",
                    correct_answer: "Celebrity musical performances",
                    incorrect_answers: ["Fireworks display", "Comedy sketches", "Award ceremonies"]
                },
                {
                    question: "What do you call it when a team scores by kicking the ball through the uprights?",
                    correct_answer: "Field goal",
                    incorrect_answers: ["Touchdown", "Safety", "Extra point"]
                },
                {
                    question: "Which conference does the Seattle Seahawks play in?",
                    correct_answer: "NFC",
                    incorrect_answers: ["AFC", "SEC", "PAC"]
                },
                {
                    question: "What animal is the Patriots' mascot?",
                    correct_answer: "Pat Patriot (minuteman)",
                    incorrect_answers: ["Eagle", "Bear", "Lion"]
                }
            ];

            const mediumQuestions = [
                {
                    question: "Who is the head coach of the New England Patriots?",
                    correct_answer: "Bill Belichick",
                    incorrect_answers: ["Pete Carroll", "Andy Reid", "Sean Payton"]
                },
                {
                    question: "In what year did the Seattle Seahawks join the NFL?",
                    correct_answer: "1976",
                    incorrect_answers: ["1980", "1972", "1984"]
                },
                {
                    question: "What is the name of the Seahawks' home stadium?",
                    correct_answer: "Lumen Field",
                    incorrect_answers: ["CenturyLink Field", "Seahawks Stadium", "Northwest Arena"]
                },
                {
                    question: "How many Super Bowls had the Patriots won before today?",
                    correct_answer: "Multiple championships",
                    incorrect_answers: ["Never won", "One", "Two"]
                },
                {
                    question: "What is the Patriots' home stadium called?",
                    correct_answer: "Gillette Stadium",
                    incorrect_answers: ["Foxboro Arena", "New England Stadium", "Patriots Field"]
                },
                {
                    question: "Who is known as the '12th Man' in Seattle?",
                    correct_answer: "The fans",
                    incorrect_answers: ["The backup quarterback", "The mascot", "The coach"]
                },
                {
                    question: "What iconic trophy is awarded to the Super Bowl winner?",
                    correct_answer: "Vince Lombardi Trophy",
                    incorrect_answers: ["Heisman Trophy", "Super Bowl Cup", "NFL Championship Trophy"]
                },
                {
                    question: "Which division do the Patriots play in?",
                    correct_answer: "AFC East",
                    incorrect_answers: ["NFC East", "AFC North", "AFC South"]
                },
                {
                    question: "What year did the Seahawks win their first Super Bowl?",
                    correct_answer: "2013 (Super Bowl XLVIII)",
                    incorrect_answers: ["2005", "2010", "2015"]
                },
                {
                    question: "How long is a regulation NFL football field including end zones?",
                    correct_answer: "120 yards",
                    incorrect_answers: ["100 yards", "110 yards", "150 yards"]
                }
            ];

            const hardQuestions = [
                {
                    question: "In what year did Pete Carroll become head coach of the Seahawks?",
                    correct_answer: "2010",
                    incorrect_answers: ["2008", "2012", "2006"]
                },
                {
                    question: "What was the Patriots' original name when they were founded in 1960?",
                    correct_answer: "Boston Patriots",
                    incorrect_answers: ["New England Patriots", "Massachusetts Patriots", "Foxboro Patriots"]
                },
                {
                    question: "Who caught the famous 'Immaculate Reception' in NFL playoff history?",
                    correct_answer: "Franco Harris",
                    incorrect_answers: ["Lynn Swann", "John Stallworth", "Terry Bradshaw"]
                },
                {
                    question: "What unique architectural feature is Lumen Field known for?",
                    correct_answer: "Open north end with partial roof",
                    incorrect_answers: ["Retractable roof", "Completely enclosed", "Glass dome"]
                },
                {
                    question: "How many times did Bill Belichick win NFL Coach of the Year?",
                    correct_answer: "Three times",
                    incorrect_answers: ["Five times", "Once", "Never"]
                },
                {
                    question: "What college did Russell Wilson attend before the NFL?",
                    correct_answer: "Wisconsin (transferred from NC State)",
                    incorrect_answers: ["USC", "Oregon", "Alabama"]
                },
                {
                    question: "In what Super Bowl did the Patriots complete a perfect 16-0 regular season?",
                    correct_answer: "Super Bowl XLII (but lost to Giants)",
                    incorrect_answers: ["Super Bowl XXXIX", "Super Bowl LI", "Super Bowl XLIX"]
                },
                {
                    question: "What is the official NFL record for loudest crowd noise, set by Seahawks fans?",
                    correct_answer: "137.6 decibels",
                    incorrect_answers: ["125.3 decibels", "142.8 decibels", "130.1 decibels"]
                },
                {
                    question: "Who did the Seahawks defeat to win Super Bowl XLVIII?",
                    correct_answer: "Denver Broncos",
                    incorrect_answers: ["New England Patriots", "Pittsburgh Steelers", "San Francisco 49ers"]
                },
                {
                    question: "What was the final score of the Seahawks' Super Bowl XLVIII victory?",
                    correct_answer: "43-8",
                    incorrect_answers: ["35-21", "28-24", "31-17"]
                }
            ];

            const questionSets = {
                easy: easyQuestions,
                medium: mediumQuestions,
                hard: hardQuestions
            };

            return questionSets[difficulty] || easyQuestions;
        }

        function decodeHTML(html) {
            const txt = document.createElement('textarea');
            txt.innerHTML = html;
            return txt.value;
        }

        function displayQuestion() {
            const question = questions[currentQuestion];
            const answers = [...question.incorrect_answers, question.correct_answer]
                .sort(() => Math.random() - 0.5);
            
            const quizContent = document.getElementById('quiz-content');
            quizContent.innerHTML = `
                <div class="question-card">
                    <div class="question-header">
                        <span class="question-number">Question ${currentQuestion + 1} of ${questions.length}</span>
                        <button class="back-btn" onclick="resetQuiz()">‚Üê Back</button>
                    </div>
                    <div class="question-text">${decodeHTML(question.question)}</div>
                    <div class="reveal-container">
                        <button class="reveal-btn" onclick="revealAnswers()">Click to Reveal Answers</button>
                    </div>
                    <div class="answers hidden" id="answer-options">
                        ${answers.map(answer => `
                            <button class="answer-btn" onclick="selectAnswer('${encodeURIComponent(answer)}', '${encodeURIComponent(question.correct_answer)}')">
                                ${decodeHTML(answer)}
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function confirmBackToSetup() {
            if (confirm('Are you sure you want to go back? Your current progress will be lost.')) {
                resetQuiz();
            }
        }

        function revealAnswers() {
            const answersDiv = document.getElementById('answer-options');
            const revealBtn = document.querySelector('.reveal-btn');
            
            revealBtn.style.display = 'none';
            answersDiv.classList.remove('hidden');
            answersDiv.classList.add('revealed');
        }

        function selectAnswer(selectedAnswer, correctAnswer) {
            selectedAnswer = decodeURIComponent(selectedAnswer);
            correctAnswer = decodeURIComponent(correctAnswer);
            
            const buttons = document.querySelectorAll('.answer-btn');
            buttons.forEach(btn => {
                btn.disabled = true;
                const btnText = btn.textContent.trim();
                if (btnText === correctAnswer) {
                    btn.classList.add('correct');
                }
                if (btnText === selectedAnswer && selectedAnswer !== correctAnswer) {
                    btn.classList.add('incorrect');
                }
            });

            if (selectedAnswer === correctAnswer) {
                score++;
            }

            setTimeout(() => {
                currentQuestion++;
                if (currentQuestion < questions.length) {
                    displayQuestion();
                } else {
                    showResults();
                }
            }, 1500);
        }

        function showResults() {
            const quizScreen = document.querySelector('.quiz-screen');
            const resultsScreen = document.querySelector('.results-screen');
            const finalScore = document.getElementById('final-score');
            
            finalScore.textContent = `${score}/${questions.length}`;
            
            quizScreen.classList.remove('active');
            resultsScreen.classList.add('active');
        }

        function resetQuiz() {
            const setupScreen = document.querySelector('.setup-screen');
            const quizScreen = document.querySelector('.quiz-screen');
            const resultsScreen = document.querySelector('.results-screen');
            
            setupScreen.classList.add('active');
            quizScreen.classList.remove('active');
            resultsScreen.classList.remove('active');
            
            questions = [];
            currentQuestion = 0;
            score = 0;
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Over Drinks - Trivia Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #d4a574 0%, #2d5f5d 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 24px;
            padding: 48px;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            font-size: 32px;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 8px;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 40px;
            font-size: 15px;
        }

        .setup-screen, .quiz-screen, .results-screen {
            display: none;
        }

        .setup-screen.active, .quiz-screen.active, .results-screen.active {
            display: block;
        }

        .form-group {
            margin-bottom: 24px;
        }

        label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        select {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e5e5e5;
            border-radius: 12px;
            font-size: 16px;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }

        select:hover {
            border-color: #667eea;
        }

        select:focus {
            outline: none;
            border-color: #d4a574;
            box-shadow: 0 0 0 3px rgba(212, 165, 116, 0.1);
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            padding: 14px 16px;
            border: 2px solid #e5e5e5;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            background: white;
        }

        .radio-option:hover {
            border-color: #d4a574;
            background: #fef9f3;
        }

        .radio-option input[type="radio"] {
            margin: 0;
            margin-right: 12px;
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: #d4a574;
        }

        .radio-option input[type="radio"]:checked + .radio-label {
            font-weight: 600;
            color: #d4a574;
        }

        .radio-option:has(input[type="radio"]:checked) {
            border-color: #d4a574;
            background: #fef9f3;
            box-shadow: 0 0 0 3px rgba(212, 165, 116, 0.1);
        }

        .radio-label {
            font-size: 16px;
            color: #333;
            cursor: pointer;
            flex: 1;
        }

        button {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #d4a574 0%, #b8956a 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 8px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(212, 165, 116, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .question-card {
            background: #f8f9fa;
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 24px;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .back-btn {
            background: #e5e5e5;
            color: #666;
            padding: 8px 16px;
            font-size: 14px;
            width: auto;
            margin: 0;
            border-radius: 8px;
        }

        .back-btn:hover {
            background: #d4d4d4;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .question-number {
            font-size: 14px;
            font-weight: 600;
            color: #d4a574;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .question-text {
            font-size: 20px;
            font-weight: 600;
            color: #1a1a1a;
            line-height: 1.5;
            margin-bottom: 24px;
        }

        .answers {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .answer-btn {
            background: white;
            border: 2px solid #e5e5e5;
            color: #333;
            text-align: left;
            padding: 16px 20px;
            border-radius: 12px;
            transition: all 0.2s;
            font-weight: 500;
        }

        .answer-btn:hover {
            border-color: #d4a574;
            background: #fef9f3;
            transform: translateY(-1px);
        }

        .answer-btn.correct {
            background: #10b981;
            border-color: #10b981;
            color: white;
        }

        .answer-btn.incorrect {
            background: #ef4444;
            border-color: #ef4444;
            color: white;
        }

        .answer-btn:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .score-display {
            text-align: center;
            margin-bottom: 32px;
        }

        .score-number {
            font-size: 64px;
            font-weight: 700;
            color: #d4a574;
            margin-bottom: 8px;
        }

        .score-text {
            font-size: 18px;
            color: #666;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .error {
            background: #fee;
            border: 2px solid #fcc;
            border-radius: 12px;
            padding: 16px;
            color: #c33;
            margin-bottom: 20px;
        }

        .next-btn {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        /* Game Show Loading Animation */
        .game-show-loader {
            text-align: center;
            padding: 60px 20px;
        }

        .spinner-wheel {
            width: 200px;
            height: 200px;
            margin: 0 auto 32px;
            position: relative;
            animation: spinWheel 2s cubic-bezier(0.17, 0.67, 0.3, 1.33);
        }

        @keyframes spinWheel {
            0% {
                transform: rotate(0deg) scale(0.5);
                opacity: 0;
            }
            50% {
                transform: rotate(720deg) scale(1.1);
            }
            100% {
                transform: rotate(1080deg) scale(1);
                opacity: 1;
            }
        }

        .wheel-segment {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .wheel-segment:nth-child(1) {
            background: conic-gradient(from 0deg, #d4a574 0deg 90deg, transparent 90deg);
            border-radius: 50%;
        }

        .wheel-segment:nth-child(2) {
            background: conic-gradient(from 90deg, #2d5f5d 0deg 90deg, transparent 90deg);
            border-radius: 50%;
        }

        .wheel-segment:nth-child(3) {
            background: conic-gradient(from 180deg, #e8c4a0 0deg 90deg, transparent 90deg);
            border-radius: 50%;
        }

        .wheel-segment:nth-child(4) {
            background: conic-gradient(from 270deg, #3d7875 0deg 90deg, transparent 90deg);
            border-radius: 50%;
        }

        .wheel-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .loader-text {
            font-size: 20px;
            font-weight: 600;
            color: #d4a574;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Reveal Answer Button */
        .reveal-container {
            margin-top: 24px;
            text-align: center;
        }

        .reveal-btn {
            background: linear-gradient(135deg, #d4a574 0%, #b8956a 100%);
            padding: 20px 48px;
            font-size: 18px;
            font-weight: 700;
            border-radius: 16px;
            box-shadow: 0 8px 24px rgba(212, 165, 116, 0.4);
        }

        .reveal-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 12px 32px rgba(212, 165, 116, 0.6);
        }

        .answers.hidden {
            display: none;
        }

        .answers.revealed {
            animation: revealAnswers 0.5s ease-out;
        }

        @keyframes revealAnswers {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Setup Screen -->
        <div class="setup-screen active">
            <h1>üçπ Over Drinks</h1>
            <p class="subtitle">Pick your poison, choose your challenge</p>
            
            <div class="form-group">
                <label>Mode</label>
                <div class="radio-group">
                    <label class="radio-option">
                        <input type="radio" name="mode" value="trivia" checked>
                        <span class="radio-label">üéØ Trivia Questions</span>
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="mode" value="gettoknowyou">
                        <span class="radio-label">üí≠ Get to Know You</span>
                    </label>
                </div>
            </div>

            <div class="form-group" id="category-group">
                <label>Category</label>
                <select id="category">
                    <option value="27">üêæ Animals</option>
                    <option value="10">üìö Books</option>
                    <option value="18">üíª Computers</option>
                    <option value="11">üé¨ Film</option>
                    <option value="9">üåç General Knowledge</option>
                    <option value="22">üó∫Ô∏è Geography</option>
                    <option value="23">üèõÔ∏è History</option>
                    <option value="holiday">üéÑ Holiday</option>
                    <option value="19">‚ûó Mathematics</option>
                    <option value="12">üéµ Music</option>
                    <option value="20">‚ö° Mythology</option>
                    <option value="17">üî¨ Science & Nature</option>
                    <option value="21">‚öΩ Sports</option>
                    <option value="14">üì∫ Television</option>
                    <option value="15">üéÆ Video Games</option>
                </select>
            </div>

            <div class="form-group" id="difficulty-group">
                <label>Difficulty</label>
                <select id="difficulty">
                    <option value="easy">Easy</option>
                    <option value="medium">Medium</option>
                    <option value="hard">Hard</option>
                </select>
            </div>

            <div class="form-group" id="depth-group" style="display: none;">
                <label>Question Depth</label>
                <select id="depth">
                    <option value="mixed">üé≤ Mixed (Light & Deep)</option>
                    <option value="light">‚òÄÔ∏è Light & Fun</option>
                    <option value="deep">üåô Deep & Meaningful</option>
                </select>
            </div>

            <button onclick="startQuiz()">Go</button>
        </div>

        <!-- Quiz Screen -->
        <div class="quiz-screen">
            <div id="quiz-content"></div>
        </div>

        <!-- Results Screen -->
        <div class="results-screen">
            <h1>üéâ Quiz Complete!</h1>
            <div class="score-display">
                <div class="score-number" id="final-score">0/10</div>
                <div class="score-text">Correct Answers</div>
            </div>
            <button onclick="resetQuiz()">Play Again</button>
        </div>
    </div>

    <script>
        let questions = [];
        let currentQuestion = 0;
        let score = 0;

        // Toggle between trivia and get to know you mode
        document.addEventListener('DOMContentLoaded', function() {
            const modeRadios = document.querySelectorAll('input[name="mode"]');
            const categoryGroup = document.getElementById('category-group');
            const difficultyGroup = document.getElementById('difficulty-group');
            const depthGroup = document.getElementById('depth-group');
            
            modeRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    if (this.value === 'gettoknowyou') {
                        categoryGroup.style.display = 'none';
                        difficultyGroup.style.display = 'none';
                        depthGroup.style.display = 'block';
                    } else {
                        categoryGroup.style.display = 'block';
                        difficultyGroup.style.display = 'block';
                        depthGroup.style.display = 'none';
                    }
                });
            });
        });

        async function startQuiz() {
            const mode = document.querySelector('input[name="mode"]:checked').value;
            const category = document.getElementById('category').value;
            const difficulty = document.getElementById('difficulty').value;
            const depth = document.getElementById('depth').value;
            
            console.log('Starting with mode:', mode, 'category:', category, 'difficulty:', difficulty);
            
            const setupScreen = document.querySelector('.setup-screen');
            const quizScreen = document.querySelector('.quiz-screen');
            const quizContent = document.getElementById('quiz-content');
            
            // Show game-show style loader
            quizContent.innerHTML = `
                <div class="game-show-loader">
                    <div class="spinner-wheel">
                        <div class="wheel-segment"></div>
                        <div class="wheel-segment"></div>
                        <div class="wheel-segment"></div>
                        <div class="wheel-segment"></div>
                        <div class="wheel-center">üç∏</div>
                    </div>
                    <div class="loader-text">Preparing your questions...</div>
                </div>
            `;
            setupScreen.classList.remove('active');
            quizScreen.classList.add('active');

            try {
                await new Promise(resolve => setTimeout(resolve, 2200)); // Wait for animation
                
                // Get to Know You mode
                if (mode === 'gettoknowyou') {
                    console.log('Loading Get to Know You questions...');
                    questions = getToKnowYouQuestions(depth);
                    console.log('Got questions:', questions.length);
                    currentQuestion = 0;
                    score = 0; // Not really scoring but keeping structure
                    displayGetToKnowYouQuestion();
                    return;
                }
                
                // Holiday special category
                if (category === 'holiday') {
                    console.log('Loading Holiday questions...');
                    questions = getHolidayQuestions(difficulty);
                    console.log('Got questions:', questions.length);
                    currentQuestion = 0;
                    score = 0;
                    displayQuestion();
                    return;
                }

                // Try to fetch from API with CORS proxy
                console.log('Fetching questions from API...');
                const apiUrl = `https://opentdb.com/api.php?amount=10&category=${category}&difficulty=${difficulty}&type=multiple`;
                console.log('API URL:', apiUrl);
                
                const response = await fetch(apiUrl);
                console.log('Response status:', response.status);
                
                const data = await response.json();
                console.log('API Response:', data);
                
                if (data.response_code !== 0) {
                    throw new Error(`API returned error code: ${data.response_code}`);
                }
                
                if (!data.results || data.results.length === 0) {
                    throw new Error('No questions returned from API');
                }
                
                questions = data.results;
                currentQuestion = 0;
                score = 0;
                console.log('Displaying question...');
                displayQuestion();
            } catch (error) {
                console.error('Error loading questions:', error);
                quizContent.innerHTML = `
                    <div class="error">
                        <strong>Failed to load questions</strong><br>
                        Error: ${error.message}<br><br>
                        ${category !== 'holiday' && mode !== 'gettoknowyou' ? 'The trivia API might be blocked by your browser or network.<br>Try the Holiday category or Get to Know You mode instead!' : 'Please try again.'}
                    </div>
                    <button onclick="resetQuiz()">Back to Setup</button>
                `;
            }
        }

        function getToKnowYouQuestions(depth) {
            const lightQuestions = [
                "What's your go-to karaoke song?",
                "If you could have dinner with any fictional character, who would it be?",
                "What's the weirdest food combination you actually enjoy?",
                "What's your most embarrassing childhood memory?",
                "If you could instantly become an expert in something, what would it be?",
                "What's your guilty pleasure TV show or movie?",
                "What would your wrestler entrance music be?",
                "If you were a kitchen appliance, which one would you be?",
                "What's the most ridiculous thing you've ever bought?",
                "What's your signature dance move?",
                "If you could live in any TV show universe, which would you choose?",
                "What's the worst fashion trend you ever participated in?",
                "What would your superhero name and power be?",
                "What's your strangest talent or party trick?",
                "If you could only eat one cuisine for the rest of your life, what would it be?",
                "What's your most-played song right now?",
                "If you were famous, what would you be famous for?",
                "What's the best prank you've ever pulled or had pulled on you?",
                "What movie can you quote the most?",
                "What's your weirdest habit?",
                "If you could be any animal for a day, what would you be?",
                "What's the most spontaneous thing you've ever done?",
                "What's your coffee/tea order?",
                "If you could have any exotic pet (legally and safely), what would it be?",
                "What's your phone wallpaper right now?",
                "What's the last thing you Googled?",
                "If you had a time machine but could only go back to embarrassing moments to relive them, would you use it?",
                "What's your most controversial food opinion?",
                "What would be the title of your autobiography?",
                "What's a skill you wish you had but don't?",
                "What's your ideal Saturday night?",
                "If you could switch lives with anyone for a day, who would it be?",
                "What's the most interesting place you've ever been?",
                "What emoji do you use most often?",
                "What's your favorite smell?",
                "What app do you use most on your phone?",
                "If you could eliminate one thing from your daily routine, what would it be?",
                "What's your comfort food?",
                "What's the best gift you've ever received?",
                "What's a word or phrase you say too much?",
            ];

            const deepQuestions = [
                "What do you think happens when we die?",
                "If you knew you'd die in one year, what would you change about how you're living?",
                "What's your biggest regret?",
                "When do you feel most like yourself?",
                "What's something you've never told anyone?",
                "What would constitute a perfect day for you?",
                "What do you value most in a friendship?",
                "If you could wake up tomorrow having gained one quality or ability, what would it be?",
                "Is there something you've dreamed of doing for a long time? Why haven't you done it?",
                "What's your most treasured memory?",
                "What's your most terrible memory?",
                "If you knew that in one year you'd die suddenly, would you change anything about the way you're living now?",
                "What roles do love and affection play in your life?",
                "How close and warm is your family? Do you feel your childhood was happier than most other people's?",
                "What, if anything, is too serious to be joked about?",
                "If you could change anything about the way you were raised, what would it be?",
                "What do you consider your greatest accomplishment?",
                "What do you want your legacy to be?",
                "How do you hope you'll change as a person in the future?",
                "What does friendship mean to you?",
                "What life experiences have shaped you the most?",
                "What's the hardest truth you've ever had to accept?",
                "If you could ask for one miracle, what would it be?",
                "What are you most grateful for?",
                "What makes you feel most alive?",
                "What do you think your purpose in life is?",
                "What's a belief you had that completely changed?",
                "When was the last time you cried and why?",
                "What's something you're still trying to figure out about yourself?",
                "If you could go back and give your younger self advice, what would it be?",
                "What do you think is the key to a meaningful life?",
                "What's a fear you're working to overcome?",
                "What does love mean to you?",
                "What would you do if you weren't afraid?",
                "What's the most difficult decision you've ever had to make?",
                "What do you wish more people knew about you?",
                "How do you want to be remembered?",
                "What's something you believe that most people don't?",
                "What question do you wish people would ask you?",
                "What part of your life do you wish you could experience again?",
            ];

            const mixedQuestions = [
                // Mix of light (L) and deep (D) for variety
                "What's the luckiest thing that's ever happened to you?", // L-Medium
                "What are you most passionate about?", // D-Medium
                "If you could relive one year of your life, which would it be?", // D-Medium
                "What's your hidden talent?", // L
                "What's something that recently made you smile?", // L
                "What's your relationship with your parents like?", // D
                "If you wrote a book, what would it be about?", // L-Medium
                "What's something you're proud of but don't get to talk about much?", // D-Medium
                "What's the best advice you've ever received?", // D-Medium
                "What would your perfect day look like from start to finish?", // L-Medium
                "What's something you wish you had said to someone but didn't?", // D
                "What do you do to relax?", // L
                "What's your biggest pet peeve?", // L
                "What quality do you admire most in others?", // D-Medium
                "If money wasn't an issue, what would you do with your time?", // L-Medium
                "What's the most valuable lesson you've learned?", // D
                "What's your morning routine like?", // L
                "What do you think your friends would say about you?", // L-Medium
                "What's something you're currently trying to improve about yourself?", // D-Medium
                "What tradition means the most to you?", // L-Medium
                "What makes you feel vulnerable?", // D
                "What's your favorite way to spend time with people you care about?", // L-Medium
                "What does success mean to you?", // D-Medium
                "If you could master any skill overnight, what would it be?", // L
                "What's something small that makes a big difference in your day?", // L
                "How do you handle stress or difficult emotions?", // D-Medium
                "What's the best decision you ever made?", // D-Medium
                "What hobby would you get into if time and money weren't an issue?", // L
                "What's your earliest memory?", // L-Medium
                "What do you think your younger self would think of you now?", // D
                "What's your favorite way to celebrate something?", // L
                "What's a promise you made to yourself?", // D-Medium
                "If you could have an endless supply of one thing, what would it be?", // L
                "What do you wish you had more time for?", // L-Medium
                "What personal trait has gotten you in trouble?", // L-Medium
                "What are you most looking forward to?", // L-Medium
                "What would your ideal home look like?", // L
                "What's something that's harder than it looks?", // L
                "What do you think about before falling asleep?", // D-Medium
                "What's your favorite childhood memory?", // L-Medium
                "What makes you feel understood?", // D
                "If you could send a message to your future self, what would it say?", // D-Medium
                "What's something that always makes you laugh?", // L
                "What's the most interesting thing about you that people wouldn't guess?", // L-Medium
                "How do you define happiness?", // D
                "What would you do if you had an extra hour every day?", // L
                "What's something you've had to unlearn?", // D-Medium
                "What's your favorite way to treat yourself?", // L
                "What do you think is your best quality?", // L-Medium
                "What's a moment that changed your perspective?", // D
                "If you could have dinner with three people, dead or alive, who would they be?", // L-Medium
                "What's something you're looking forward to?", // L
                "What's a question you hate being asked?", // L-Medium
                "What do you think makes a good life?", // D
                "What's your favorite thing about where you live?", // L
                "What's something you want to do more of?", // L-Medium
                "What role does spirituality or religion play in your life?", // D
                "What's the best compliment you ever received?", // L-Medium
                "What's something you've changed your mind about recently?", // D-Medium
                "What's your ideal weekend?", // L
                "What makes you feel at peace?", // D-Medium
            ];

            let questionPool;
            if (depth === 'light') {
                questionPool = lightQuestions;
            } else if (depth === 'deep') {
                questionPool = deepQuestions;
            } else {
                questionPool = mixedQuestions;
            }

            // Convert to trivia format and shuffle
            const formattedQuestions = questionPool.map(q => ({
                question: q,
                type: 'open-ended',
                correct_answer: '',
                incorrect_answers: []
            }));

            return formattedQuestions.sort(() => Math.random() - 0.5).slice(0, 10);
        }

        function getHolidayQuestions(difficulty) {
            const easyQuestions = [
                {
                    question: "What color is Santa Claus's suit?",
                    correct_answer: "Red and white",
                    incorrect_answers: ["Green and white", "Blue and white", "Red and black"]
                },
                {
                    question: "What holiday is celebrated on December 25th?",
                    correct_answer: "Christmas",
                    incorrect_answers: ["Hanukkah", "Kwanzaa", "New Year's Day"]
                },
                {
                    question: "What do children leave out for Santa on Christmas Eve?",
                    correct_answer: "Milk and cookies",
                    incorrect_answers: ["Pizza and soda", "Cake and juice", "Candy and water"]
                },
                {
                    question: "What is the name of the reindeer with a red nose?",
                    correct_answer: "Rudolph",
                    incorrect_answers: ["Dasher", "Prancer", "Blitzen"]
                },
                {
                    question: "What do people kiss under during Christmas time?",
                    correct_answer: "Mistletoe",
                    incorrect_answers: ["Holly", "Pine tree", "Wreath"]
                },
                {
                    question: "What holiday celebrates the beginning of a new year?",
                    correct_answer: "New Year's Day",
                    incorrect_answers: ["Christmas", "Valentine's Day", "Easter"]
                },
                {
                    question: "What orange vegetable is associated with Halloween?",
                    correct_answer: "Pumpkin",
                    incorrect_answers: ["Carrot", "Sweet potato", "Squash"]
                },
                {
                    question: "What do kids say when trick-or-treating?",
                    correct_answer: "Trick or treat",
                    incorrect_answers: ["Give me candy", "Happy Halloween", "Boo"]
                },
                {
                    question: "What holiday is known for giving thanks?",
                    correct_answer: "Thanksgiving",
                    incorrect_answers: ["Christmas", "Easter", "Labor Day"]
                },
                {
                    question: "What holiday celebrates love on February 14th?",
                    correct_answer: "Valentine's Day",
                    incorrect_answers: ["Mother's Day", "Father's Day", "Easter"]
                },
                {
                    question: "What bird is traditionally eaten at Thanksgiving?",
                    correct_answer: "Turkey",
                    incorrect_answers: ["Chicken", "Duck", "Goose"]
                },
                {
                    question: "What do people wear on St. Patrick's Day?",
                    correct_answer: "Green clothing",
                    incorrect_answers: ["Orange clothing", "Red clothing", "Blue clothing"]
                },
                {
                    question: "What holiday involves hunting for eggs?",
                    correct_answer: "Easter",
                    incorrect_answers: ["Christmas", "Halloween", "Thanksgiving"]
                },
                {
                    question: "What Jewish holiday lasts for eight nights?",
                    correct_answer: "Hanukkah",
                    incorrect_answers: ["Passover", "Yom Kippur", "Rosh Hashanah"]
                },
                {
                    question: "What month is Independence Day celebrated in the USA?",
                    correct_answer: "July",
                    incorrect_answers: ["June", "August", "September"]
                },
                {
                    question: "What are small decorations hung on a Christmas tree called?",
                    correct_answer: "Ornaments",
                    incorrect_answers: ["Decorations", "Baubles", "Trinkets"]
                },
                {
                    question: "What do children receive on Valentine's Day?",
                    correct_answer: "Cards and candy",
                    incorrect_answers: ["Eggs", "Toys", "Money"]
                },
                {
                    question: "What is placed on top of a Christmas tree?",
                    correct_answer: "Star or angel",
                    incorrect_answers: ["Ornament", "Bow", "Bell"]
                },
                {
                    question: "What Mexican holiday honors deceased loved ones?",
                    correct_answer: "Day of the Dead",
                    incorrect_answers: ["Cinco de Mayo", "Mexican Independence Day", "Las Posadas"]
                },
                {
                    question: "What holiday celebrates workers on the first Monday in September?",
                    correct_answer: "Labor Day",
                    incorrect_answers: ["Memorial Day", "Presidents Day", "Veterans Day"]
                }
            ];

            const mediumQuestions = [
                {
                    question: "In what country did the tradition of the Christmas tree originate?",
                    correct_answer: "Germany",
                    incorrect_answers: ["England", "United States", "France"]
                },
                {
                    question: "What are the traditional colors of Hanukkah?",
                    correct_answer: "Blue and white",
                    incorrect_answers: ["Red and green", "Gold and silver", "Purple and yellow"]
                },
                {
                    question: "What is the day after Thanksgiving called?",
                    correct_answer: "Black Friday",
                    incorrect_answers: ["Cyber Monday", "Super Saturday", "Shopping Sunday"]
                },
                {
                    question: "How many candles are on a Hanukkah menorah?",
                    correct_answer: "Nine",
                    incorrect_answers: ["Seven", "Eight", "Ten"]
                },
                {
                    question: "What is the name of the Grinch's dog?",
                    correct_answer: "Max",
                    incorrect_answers: ["Buddy", "Spike", "Rex"]
                },
                {
                    question: "What date is Halloween celebrated?",
                    correct_answer: "October 31st",
                    incorrect_answers: ["October 30th", "November 1st", "October 25th"]
                },
                {
                    question: "What plant is associated with Christmas and has red berries?",
                    correct_answer: "Holly",
                    incorrect_answers: ["Mistletoe", "Ivy", "Poinsettia"]
                },
                {
                    question: "In what city does the famous New Year's Eve ball drop take place?",
                    correct_answer: "New York City",
                    incorrect_answers: ["Los Angeles", "Chicago", "Las Vegas"]
                },
                {
                    question: "How many nights does Kwanzaa last?",
                    correct_answer: "Seven",
                    incorrect_answers: ["Five", "Eight", "Ten"]
                },
                {
                    question: "What is the traditional meat served at an Easter meal?",
                    correct_answer: "Ham",
                    incorrect_answers: ["Turkey", "Beef", "Chicken"]
                },
                {
                    question: "What is the name of the candelabra used during Hanukkah?",
                    correct_answer: "Menorah",
                    incorrect_answers: ["Kinara", "Candelabrum", "Candle holder"]
                },
                {
                    question: "What do the colors of Kwanzaa represent?",
                    correct_answer: "African heritage",
                    incorrect_answers: ["Peace and love", "Harvest", "Unity"]
                },
                {
                    question: "What carol contains the lyrics 'Fa la la la la'?",
                    correct_answer: "Deck the Halls",
                    incorrect_answers: ["Jingle Bells", "Silent Night", "Joy to the World"]
                },
                {
                    question: "What flower is most associated with Day of the Dead?",
                    correct_answer: "Marigold",
                    incorrect_answers: ["Rose", "Lily", "Carnation"]
                },
                {
                    question: "What is the four-sided spinning top used during Hanukkah called?",
                    correct_answer: "Dreidel",
                    incorrect_answers: ["Menorah", "Gelt", "Latke"]
                },
                {
                    question: "What parade is famous for Thanksgiving Day?",
                    correct_answer: "Macy's Thanksgiving Parade",
                    incorrect_answers: ["Rose Parade", "Mardi Gras", "St. Patrick's Day Parade"]
                },
                {
                    question: "What is the day before All Saints' Day called?",
                    correct_answer: "All Hallows' Eve (Halloween)",
                    incorrect_answers: ["All Souls' Day", "Day of the Dead", "Samhain"]
                },
                {
                    question: "What sauce is traditionally served with Thanksgiving turkey?",
                    correct_answer: "Cranberry sauce",
                    incorrect_answers: ["Apple sauce", "Mint sauce", "Gravy"]
                },
                {
                    question: "In Mexico, what is eaten on Three Kings Day?",
                    correct_answer: "Rosca de Reyes (King Cake)",
                    incorrect_answers: ["Tamales", "Churros", "Pan dulce"]
                },
                {
                    question: "What is the name of the Easter Bunny in some traditions?",
                    correct_answer: "Peter Rabbit",
                    incorrect_answers: ["Bugs Bunny", "Thumper", "Roger Rabbit"]
                }
            ];

            const hardQuestions = [
                {
                    question: "What ancient Roman festival is believed to have influenced Valentine's Day?",
                    correct_answer: "Lupercalia",
                    incorrect_answers: ["Saturnalia", "Bacchanalia", "Floralia"]
                },
                {
                    question: "In what year did Thanksgiving become a national holiday in the US?",
                    correct_answer: "1863",
                    incorrect_answers: ["1776", "1845", "1901"]
                },
                {
                    question: "What is the origin of the word 'Hanukkah'?",
                    correct_answer: "Hebrew word for 'dedication'",
                    incorrect_answers: ["Greek word for 'light'", "Aramaic word for 'miracle'", "Hebrew word for 'oil'"]
                },
                {
                    question: "Which US president made Christmas a federal holiday?",
                    correct_answer: "Ulysses S. Grant",
                    incorrect_answers: ["Abraham Lincoln", "Theodore Roosevelt", "George Washington"]
                },
                {
                    question: "What does the German word 'Oktoberfest' literally translate to?",
                    correct_answer: "October Festival",
                    incorrect_answers: ["Beer Festival", "Harvest Festival", "Autumn Celebration"]
                },
                {
                    question: "What does 'Kwanzaa' mean in Swahili?",
                    correct_answer: "First fruits",
                    incorrect_answers: ["Unity", "Harvest", "Celebration"]
                },
                {
                    question: "In what year was the first Macy's Thanksgiving Day Parade held?",
                    correct_answer: "1924",
                    incorrect_answers: ["1912", "1935", "1940"]
                },
                {
                    question: "What is the Yule log tradition's pagan origin?",
                    correct_answer: "Norse winter solstice celebration",
                    incorrect_answers: ["Roman Saturnalia", "Celtic Samhain", "Greek Dionysia"]
                },
                {
                    question: "What year was the first Times Square New Year's Eve ball drop?",
                    correct_answer: "1907",
                    incorrect_answers: ["1895", "1920", "1901"]
                },
                {
                    question: "What is the ancient Celtic festival that Halloween originated from?",
                    correct_answer: "Samhain",
                    incorrect_answers: ["Beltane", "Imbolc", "Lughnasadh"]
                },
                {
                    question: "Who wrote 'A Christmas Carol'?",
                    correct_answer: "Charles Dickens",
                    incorrect_answers: ["Mark Twain", "Edgar Allan Poe", "Washington Irving"]
                },
                {
                    question: "What is the Mexican Day of the Dead's indigenous origin?",
                    correct_answer: "Aztec festival honoring Mictecacihuatl",
                    incorrect_answers: ["Mayan harvest festival", "Incan sun celebration", "Olmec ancestor worship"]
                },
                {
                    question: "In what year did Kwanzaa first begin?",
                    correct_answer: "1966",
                    incorrect_answers: ["1955", "1970", "1980"]
                },
                {
                    question: "What is the traditional Hanukkah food made from potatoes?",
                    correct_answer: "Latkes",
                    incorrect_answers: ["Knish", "Kugel", "Blintzes"]
                },
                {
                    question: "Who created Kwanzaa?",
                    correct_answer: "Maulana Karenga",
                    incorrect_answers: ["Marcus Garvey", "Malcolm X", "Martin Luther King Jr."]
                },
                {
                    question: "What is the Boxing Day tradition's original purpose?",
                    correct_answer: "Giving gifts to servants and tradespeople",
                    incorrect_answers: ["Boxing match competitions", "Returning unwanted gifts", "Charity donations"]
                },
                {
                    question: "In what year did Coca-Cola first use Santa Claus in advertising?",
                    correct_answer: "1931",
                    incorrect_answers: ["1920", "1945", "1915"]
                },
                {
                    question: "What is the dreidel game's historical significance?",
                    correct_answer: "Jews disguised Torah study as gambling",
                    incorrect_answers: ["Celebration of oil miracle", "Teaching Hebrew letters", "Commemorating temple victory"]
                },
                {
                    question: "What Roman festival influenced many Christmas traditions?",
                    correct_answer: "Saturnalia",
                    incorrect_answers: ["Lupercalia", "Bacchanalia", "Cerealia"]
                },
                {
                    question: "Who was the first US president to pardon a Thanksgiving turkey?",
                    correct_answer: "George H.W. Bush (officially)",
                    incorrect_answers: ["Abraham Lincoln", "Harry Truman", "John F. Kennedy"]
                }
            ];

            const questionSets = {
                easy: easyQuestions,
                medium: mediumQuestions,
                hard: hardQuestions
            };

            // Shuffle and return 10 random questions from the selected difficulty
            const selectedSet = questionSets[difficulty] || easyQuestions;
            return selectedSet.sort(() => Math.random() - 0.5).slice(0, 10);
        }

        function decodeHTML(html) {
            const txt = document.createElement('textarea');
            txt.innerHTML = html;
            return txt.value;
        }

        function displayGetToKnowYouQuestion() {
            const question = questions[currentQuestion];
            
            const quizContent = document.getElementById('quiz-content');
            quizContent.innerHTML = `
                <div class="question-card">
                    <div class="question-header">
                        <span class="question-number">Question ${currentQuestion + 1} of ${questions.length}</span>
                        <button class="back-btn" onclick="resetQuiz()">‚Üê Back</button>
                    </div>
                    <div class="question-text" style="font-size: 24px; text-align: center; padding: 40px 20px;">
                        ${question.question}
                    </div>
                    <div style="text-align: center; margin-top: 40px;">
                        <p style="color: #666; font-style: italic; margin-bottom: 24px;">
                            Take your time to think and share...
                        </p>
                        <button class="reveal-btn" onclick="nextGetToKnowYouQuestion()">
                            ${currentQuestion < questions.length - 1 ? 'Next Question ‚Üí' : 'Finish'}
                        </button>
                    </div>
                </div>
            `;
        }

        function nextGetToKnowYouQuestion() {
            currentQuestion++;
            if (currentQuestion < questions.length) {
                displayGetToKnowYouQuestion();
            } else {
                showGetToKnowYouResults();
            }
        }

        function showGetToKnowYouResults() {
            const quizScreen = document.querySelector('.quiz-screen');
            const resultsScreen = document.querySelector('.results-screen');
            
            // Customize results screen for Get to Know You
            resultsScreen.querySelector('h1').textContent = 'üí≠ Great Conversation!';
            resultsScreen.querySelector('.score-display').innerHTML = `
                <div style="font-size: 18px; color: #666; max-width: 400px; margin: 0 auto;">
                    You've explored ${questions.length} meaningful questions together. 
                    These conversations are what connection is all about.
                </div>
            `;
            
            quizScreen.classList.remove('active');
            resultsScreen.classList.add('active');
        }

        function displayQuestion() {
            const question = questions[currentQuestion];
            const answers = [...question.incorrect_answers, question.correct_answer]
                .sort(() => Math.random() - 0.5);
            
            const quizContent = document.getElementById('quiz-content');
            quizContent.innerHTML = `
                <div class="question-card">
                    <div class="question-header">
                        <span class="question-number">Question ${currentQuestion + 1} of ${questions.length}</span>
                        <button class="back-btn" onclick="resetQuiz()">‚Üê Back</button>
                    </div>
                    <div class="question-text">${decodeHTML(question.question)}</div>
                    <div class="reveal-container">
                        <button class="reveal-btn" onclick="revealAnswers()">Click to Reveal Answers</button>
                    </div>
                    <div class="answers hidden" id="answer-options">
                        ${answers.map(answer => `
                            <button class="answer-btn" onclick="selectAnswer('${encodeURIComponent(answer)}', '${encodeURIComponent(question.correct_answer)}')">
                                ${decodeHTML(answer)}
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function confirmBackToSetup() {
            if (confirm('Are you sure you want to go back? Your current progress will be lost.')) {
                resetQuiz();
            }
        }

        function revealAnswers() {
            const answersDiv = document.getElementById('answer-options');
            const revealBtn = document.querySelector('.reveal-btn');
            
            revealBtn.style.display = 'none';
            answersDiv.classList.remove('hidden');
            answersDiv.classList.add('revealed');
        }

        function selectAnswer(selectedAnswer, correctAnswer) {
            selectedAnswer = decodeURIComponent(selectedAnswer);
            correctAnswer = decodeURIComponent(correctAnswer);
            
            const buttons = document.querySelectorAll('.answer-btn');
            buttons.forEach(btn => {
                btn.disabled = true;
                const btnText = btn.textContent.trim();
                if (btnText === correctAnswer) {
                    btn.classList.add('correct');
                }
                if (btnText === selectedAnswer && selectedAnswer !== correctAnswer) {
                    btn.classList.add('incorrect');
                }
            });

            if (selectedAnswer === correctAnswer) {
                score++;
            }

            setTimeout(() => {
                currentQuestion++;
                if (currentQuestion < questions.length) {
                    displayQuestion();
                } else {
                    showResults();
                }
            }, 1500);
        }

        function showResults() {
            const quizScreen = document.querySelector('.quiz-screen');
            const resultsScreen = document.querySelector('.results-screen');
            const finalScore = document.getElementById('final-score');
            
            finalScore.textContent = `${score}/${questions.length}`;
            
            quizScreen.classList.remove('active');
            resultsScreen.classList.add('active');
        }

        function resetQuiz() {
            const setupScreen = document.querySelector('.setup-screen');
            const quizScreen = document.querySelector('.quiz-screen');
            const resultsScreen = document.querySelector('.results-screen');
            
            setupScreen.classList.add('active');
            quizScreen.classList.remove('active');
            resultsScreen.classList.remove('active');
            
            questions = [];
            currentQuestion = 0;
            score = 0;
        }
    </script>
</body>
</html>
